# 规划指南

一个全面的 LLM 性能基准测试平台，用于集中化的性能数据管理、对比和分析。

**体验特质**：
1. **高效** - 通过 CSV 批量导入和手动输入选项简化基准测试数据录入。
2. **分析性** - 促进并排性能对比，以确定最佳配置。
3. **有序** - 提供可搜索、可过滤的基准测试数据库，以便快速检索信息。

**复杂度级别**：轻量级应用（具有基本状态的多个功能）
- 该应用管理基准测试数据条目，支持 CRUD 操作、CSV 批量导入，并提供对比视图，无需复杂的多页面导航或超出持久化存储的高级状态管理。

## 核心功能

### 功能 1：CSV 批量导入
- **功能描述**：上传包含多个基准测试结果及其性能指标（进程数、输入长度、输出长度、TTFT、TPS 等）的 CSV 文件。
- **目的**：能够从现有的基准测试输出中快速批量录入数据。
- **触发器**：用户点击“导入 CSV”按钮。
- **流程**：点击导入 CSV → 上传文件 → 文件解析并验证 → 用户填写共享配置（模型名称、服务器、芯片、框架） → 预览解析后的数据 → 确认 → 多个基准测试添加到数据库。
- **成功标准**：CSV 正确解析，所有包含有效数据的行均已导入，共享配置应用于所有条目，成功通知显示导入数量。

### 功能 2：手动基准测试录入
- **功能描述**：用于输入单个基准测试配置和性能指标的表单。
- **目的**：手动添加单个基准测试结果或测试条目。
- **触发器**：用户点击“手动添加”按钮。
- **流程**：点击手动添加 → 填写配置表单（模型、服务器、芯片、框架、测试日期） → 填写性能指标（并发数、输入/输出长度、TTFT、TPOT、TPS） → 保存 → 数据出现在列表中。
- **成功标准**：数据持久化，并以所有字段完整的形式显示在基准测试列表中。

### 功能 3：基准测试列表与管理
- **功能描述**：具有编辑/删除功能的可搜索/可过滤列表，显示所有保存的基准测试。
- **目的**：允许用户浏览、组织和维护其基准测试数据库。
- **触发器**：应用加载时自动触发。
- **流程**：应用加载 → 显示基准测试 → 用户搜索/过滤 → 显示匹配结果 → 用户可以选择、编辑或删除条目。
- **成功标准**：所有基准测试可见，搜索适用于所有字段， CRUD 操作成功。

### 功能 4：性能对比
- **功能描述**：选择两个基准测试并查看并排的性能指标对比。
- **目的**：识别配置之间的性能差异，以辅助优化决策。
- **触发器**：用户选择两个基准测试并点击“开始对比”或切换到“对比”标签页。
- **流程**：选择第一个基准测试 → 选择第二个基准测试 → 点击对比 → 查看带有并排指标的对比面板 → 差异通过视觉指示器突出显示。
- **成功标准**：清晰的视觉对比显示所有指标，计算并显示性能增量。

## 边缘情况处理
- **无效的 CSV 格式**：显示错误消息，指明缺失的列或无效的数据格式。
- **空 CSV**：显示验证错误，要求至少包含一个有效的数据行。
- **损坏的 CSV 数据**：跳过无效行并通知用户跳过的条目数。
- **重复选择**：通过 toast 通知防止选择超过 2 个基准测试进行对比。
- **搜索无结果**：显示友好的“无结果”消息，并建议调整搜索词。
- **删除最后一项**：优雅地显示空状态，并带有添加新数据的行动号召。
- **大型 CSV 文件**：通过加载指示器处理 100 行以上的文件解析。

## 设计方向
设计应唤起专业感、精确感和技术可信度。用户应确信他们正在使用一个强大的分析工具。界面应在数据密度与清晰度之间取得平衡，使用视觉层次引导注意力关注关键指标，同时保持干净、专注的工作空间。

## 颜色选择
技术且精确的配色方案，以蓝紫色为基础，暗示智能和可靠性。

- **主色**：深紫蓝色 (oklch(0.45 0.15 250)) - 传达技术复杂性和智能，用于主要操作和关键 UI 元素。
- **辅助色**：
  - 深石板色 (oklch(0.35 0.02 250)) - 支持性操作和较不突出的按钮。
  - 柔和灰背景 (oklch(0.96 0.01 250)) - 柔和的背景和禁用状态。
- **强调色**：鲜艳的青蓝色 (oklch(0.65 0.18 210)) - 高亮、焦点状态和吸引注意力的元素（如选中的基准测试）。
- **前景色/背景色搭配**：
  - 主色 (oklch(0.45 0.15 250)): 白色文字 (oklch(0.99 0 0)) - 对比度 9.2:1 ✓
  - 强调色 (oklch(0.65 0.18 210)): 白色文字 (oklch(0.99 0 0)) - 对比度 5.1:1 ✓
  - 背景色 (oklch(1 0 0)): 深色文字 (oklch(0.25 0.01 250)) - 对比度 13.8:1 ✓
  - 柔和色 (oklch(0.96 0.01 250)): 中等文字 (oklch(0.50 0.01 250)) - 对比度 5.2:1 ✓

## 字体选择
字体应传达技术精确性，同时保持密集数据展示的可读性。

- **主要字体**：Inter - 简洁、现代的无衬线字体，用于正文和 UI 元素。
- **标题字体**：Space Grotesk - 独特的几何无衬线字体，用于标题，传达现代感和技术特征。
- **等宽字体**：JetBrains Mono - 用于数值数据和技术规范，确保一致的对齐。

**排版层次**：
- H1 (页面标题): Space Grotesk Bold/32px/紧凑字间距
- H2 (章节标题): Space Grotesk SemiBold/20px/正常字间距
- H3 (卡片标题): Space Grotesk Medium/16px/正常字间距
- 正文: Inter Regular/14px/1.5 行高
- 小字 (指标): Inter Medium/12px/1.4 行高
- 等宽数据: JetBrains Mono Regular/14px 用于数值

## 动画
动画应微妙且有目的性，在不造成延迟或干扰的情况下强化用户操作。

- **微交互**：按钮悬停状态具有 150ms 颜色过渡，激活状态有微妙缩放。
- **模态框过渡**：对话框淡入时长 200ms，略微向上滑动以显精致。
- **列表更新**：新的基准测试条目从顶部淡入，具有 300ms 交错效果。
- **对比面板**：对比加载时，指标从侧边微妙滑入。
- **文件上传**：拖拽悬停状态具有边框脉冲效果，上传成功带有勾选动画。
- **标签页切换**：内容淡入淡出切换，时长 200ms。
- **选中状态**：卡片选中时具有平滑的边框颜色过渡和阴影扩展。

## 组件选择

**组件**：
- **对话框 (Dialog)**：用于添加/编辑基准测试表单和 CSV 导入 - 移动端全屏，桌面端最大宽度居中模态框，带滚动区域。
- **标签页 (Tabs)**：在“所有基准测试”列表视图和“性能对比”视图之间切换。
- **卡片 (Card)**：显示单个基准测试条目，具有选中状态、编辑/删除操作。
- **输入框 (Input)**：带有清晰标签的表单字段，用于配置和指标。
- **按钮 (Button)**：主要（添加/导入操作）、描边（次要操作如对比）、幽灵（仅图标操作）。
- **徽章 (Badge)**：显示状态指示器、选中计数、数据计数。
- **滚动区域 (ScrollArea)**：用于导入对话框中的 CSV 数据预览。
- **警报 (Alert)**：显示验证错误和导入警告。

**自定义项**：
- **上传区域**：自定义虚线边框组件，具有 CSV 拖放区域的悬停状态。
- **指标显示网格**：自定义布局，显示带有图标和格式化数值的性能指标。
- **对比指标卡片**：并排指标显示，带有增量计算和视觉指示器 (↑/↓)。

**状态**：
- **按钮**：明显的悬停（亮度增加）、激活（微妙缩放）、禁用（降低不透明度）、焦点（强调色环）。
- **卡片**：默认阴影、悬停（提升阴影）、选中（带发光的强调色边框）、禁用（灰度）。
- **输入框**：默认边框、焦点（带色环的强调色边框）、错误（破坏性边框）、已填充（微妙背景）。
- **文件上传区域**：默认虚线边框、悬停（强调色边框）、激活拖拽悬停（强调色背景色调）。

**图标选择** (Phosphor Icons)：
- **Plus**: 添加新基准测试 (粗体)
- **FileArrowDown**: CSV 导入操作 (粗体)
- **MagnifyingGlass**: 搜索功能
- **ArrowsLeftRight**: 对比操作
- **ChartBar**: 空状态和品牌展示
- **UploadSimple**: 文件上传区域
- **CheckCircle**: 成功状态 (填充风格)
- **WarningCircle**: 错误状态 (填充风格)
- **X**: 关闭/移除操作
- **Trash**: 删除基准测试
- **PencilSimple**: 编辑操作

**间距**：
- 容器内边距：p-4 (移动端), p-6 (桌面端)
- 卡片间距：gap-4
- 表单字段间距：space-y-4
- 章节间距：space-y-6
- 网格间距：gap-4
- 指标网格：grid-cols-2 md:grid-cols-3

**移动端**：
- 基准测试卡片采用单列布局。
- 堆叠式表单字段（非网格）。
- 全屏对话框，减少内边距。
- 简化的对比视图（垂直堆叠而非并排）。
- 触控优化的按钮尺寸（最小 44px 高度）。
- 移动端可折叠搜索，带图标触发器。
- 标签页列表在需要时水平滚动。
